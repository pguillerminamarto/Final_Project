<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paula Guillermina Marto">
<meta name="dcterms.date" content="2024-12-01">

<title>Final Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="Final Project_files/libs/clipboard/clipboard.min.js"></script>
<script src="Final Project_files/libs/quarto-html/quarto.js"></script>
<script src="Final Project_files/libs/quarto-html/popper.min.js"></script>
<script src="Final Project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Final Project_files/libs/quarto-html/anchor.min.js"></script>
<link href="Final Project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Final Project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Final Project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Final Project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Final Project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Final-Project.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">
\RecustomVerbatimEnvironment{verbatim}{Verbatim}{
  showspaces = false,
  showtabs = false,
  breaksymbolleft={},
  breaklines
}

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Project</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paula Guillermina Marto </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 1, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>Section</strong>: PPHA 30538</p>
<p><strong>GitHub Username</strong>: pguillerminamarto</p>
<div id="f41f1fb7" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>RendererRegistry.enable('png')</code></pre>
</div>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="the-importance-of-cultural-accessibility" class="level2">
<h2 class="anchored" data-anchor-id="the-importance-of-cultural-accessibility">The Importance of Cultural Accessibility</h2>
<p>Cultural spaces, such as theaters, libraries, and cultural centers, are not just physical locations; they are hubs of knowledge, creativity, and community building. They act as bridges between tradition and innovation, offering a platform for preserving cultural heritage while fostering modern artistic expressions. In Argentina, these spaces are especially significant given the country’s rich history of cultural diversity and its dynamic socio-economic landscape.</p>
</section>
<section id="why-study-cultural-and-educational-interactions" class="level2">
<h2 class="anchored" data-anchor-id="why-study-cultural-and-educational-interactions">Why Study Cultural and Educational Interactions?</h2>
<p>Education and culture are deeply interconnected. Access to cultural resources can enhance learning experiences, broaden perspectives, and foster a sense of belonging. This relationship is particularly relevant in a country like Argentina, where stark regional inequalities exist. By studying the distribution and impact of cultural spaces, we aim to uncover patterns that could inform policies for equitable resource allocation and improved educational outcomes.</p>
</section>
<section id="a-socio-cultural-snapshot-of-argentina" class="level2">
<h2 class="anchored" data-anchor-id="a-socio-cultural-snapshot-of-argentina">A Socio-Cultural Snapshot of Argentina</h2>
<p>Argentina is characterized by a vibrant cultural heritage, influenced by indigenous traditions, European migration, and modern artistic movements. However, this cultural richness is unevenly distributed across the country. While Buenos Aires is internationally recognized as a cultural capital, rural areas and provinces in the Northeast (NEA) and Northwest (NOA) struggle with limited access to cultural and educational resources. This study seeks to map these inequalities and understand their implications.</p>
</section>
</section>
<section id="contextual-background" class="level1">
<h1>Contextual Background</h1>
<section id="cultural-policies-in-argentina" class="level2">
<h2 class="anchored" data-anchor-id="cultural-policies-in-argentina">Cultural Policies in Argentina</h2>
<p>Argentina’s cultural policies are rooted in the principles of decentralization and federalism. The National Constitution empowers provinces to govern their own cultural affairs, leading to diverse regional approaches. National initiatives like the Registro Federal de Cultura (RFC) aim to centralize data and provide an overarching framework, but the implementation and impact of such policies vary significantly across regions.</p>
</section>
<section id="the-registro-federal-de-cultura-rfc" class="level2">
<h2 class="anchored" data-anchor-id="the-registro-federal-de-cultura-rfc">The Registro Federal de Cultura (RFC)</h2>
<p>Established in 2021, the RFC represents a landmark initiative to catalog and monitor cultural spaces nationwide. It serves as a tool for identifying gaps and directing resources where they are most needed. As of 2023, the RFC had documented over 6,405 cultural spaces, ranging from popular libraries in small towns to large-scale theaters in metropolitan areas.</p>
</section>
</section>
<section id="research-question" class="level1">
<h1>Research Question</h1>
<p><strong>How do cultural spaces influence school attendance rates across different regions of Argentina, and what socio-economic factors mediate this relationship?</strong></p>
</section>
<section id="data-and-methodology" class="level1">
<h1>Data and Methodology</h1>
<section id="educational-data-national-census-of-population-households-and-housing-2022" class="level2">
<h2 class="anchored" data-anchor-id="educational-data-national-census-of-population-households-and-housing-2022"><strong>Educational Data: National Census of Population, Households, and Housing 2022</strong></h2>
<p>The educational data originates from the <strong>2022 National Census of Population, Households, and Housing in Argentina (Census 2022)</strong>. This dataset provides a detailed nationwide perspective on school attendance rates for children aged <strong>4 to 17 years</strong>, broken into age groups:</p>
<ul>
<li><p><strong>4-5 years old</strong>: Pre-primary education.</p></li>
<li><p><strong>6-11 years old</strong>: Primary education.</p></li>
<li><p><strong>12-14 years old</strong>: Lower secondary education.</p></li>
<li><p><strong>15-17 years old</strong>: Upper secondary education.</p></li>
</ul>
<p>This dataset serves as a crucial foundation for analyzing educational accessibility and outcomes across Argentina. Its granularity allows for exploration at the <strong>country, province, and department levels</strong>, enabling identification of regional disparities and correlations with socio-economic conditions.</p>
</section>
<section id="cultural-data-cultural-information-system-of-argentina" class="level2">
<h2 class="anchored" data-anchor-id="cultural-data-cultural-information-system-of-argentina"><strong>Cultural Data: Cultural Information System of Argentina</strong></h2>
<p>The cultural data is sourced from the <strong>Cultural Information System of Argentina</strong>, managed by the Ministry of Culture. This dataset captures the distribution of <strong>cultural spaces</strong> across the country, including:</p>
<ul>
<li><p><strong>Theaters</strong></p></li>
<li><p><strong>Cultural Centers</strong></p></li>
<li><p><strong>Libraries</strong></p></li>
<li><p><strong>Cinemas</strong></p></li>
<li><p><strong>Popular Libraries</strong></p></li>
<li><p><strong>Bicentennial Houses</strong></p></li>
</ul>
<p>Each cultural space is georeferenced, allowing for spatial analysis of its location and accessibility. The dataset includes:</p>
<ul>
<li><p><strong>Geographical identifiers</strong>: Province, department (except one dataset), locality.</p></li>
<li><p><strong>Latitude and longitude</strong>: For mapping and spatial visualizations.</p></li>
<li><p><strong>Category of cultural space</strong>: Enabling focused analyses.</p></li>
</ul>
<p>The data was consolidated from multiple sources to ensure comprehensive coverage of Argentina’s cultural infrastructure.</p>
</section>
<section id="unit-of-analysis" class="level2">
<h2 class="anchored" data-anchor-id="unit-of-analysis"><strong>Unit of Analysis</strong></h2>
<p>This study adopts a hierarchical structure for its analysis:</p>
<ol type="1">
<li><p><strong>Country Level</strong>: National trends and patterns.</p></li>
<li><p><strong>Province Level</strong>: Variations between Argentina’s provinces.</p></li>
<li><p><strong>Department Level</strong>: Granular, localized trends within administrative units.</p></li>
</ol>
<p>This structure ensures both macro-level insights and community-specific details are captured. The charts are showed by department-level</p>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology"><strong>Methodology</strong></h2>
<section id="data-integration" class="level3">
<h3 class="anchored" data-anchor-id="data-integration"><strong>Data Integration</strong></h3>
<ul>
<li><p>The cultural datasets were consolidated into a single file. Since these datasets included latitude and longitude information, they were matched with an INDEC dataset containing department IDs and names. This step was crucial because one of the cultural datasets only included department codes without the corresponding names. By merging this information with the INDEC dataset, which provided both codes and names, we ensured accurate geographic identification and consistency across all datasets.</p></li>
<li><p>Educational data from Census 2022 was merged with the cultural dataset using geographical identifiers (department id).</p></li>
<li><p>Datasets were harmonized and translated to ensure consistency.</p></li>
</ul>
</section>
<section id="geospatial-analysis" class="level3">
<h3 class="anchored" data-anchor-id="geospatial-analysis"><strong>Geospatial Analysis</strong></h3>
<ul>
<li><p>Cultural spaces were mapped using latitude and longitude to visualize their distribution.</p></li>
<li><p>Educational attendance rates were overlaid to explore spatial correlations.</p></li>
</ul>
</section>
</section>
</section>
<section id="charts" class="level1">
<h1>Charts</h1>
<div id="053d8ebd" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cultural-spaces-and-economic-wealth-in-argentina-spotlight-on-the-pampas-region" class="level1">
<h1>Cultural Spaces and Economic Wealth in Argentina: Spotlight on the Pampas Region</h1>
<p>The <strong>Pampas region</strong>, comprising <strong>Buenos Aires</strong>, <strong>Santa Fe</strong>, and <strong>La Pampa</strong>, demonstrates significantly higher access to cultural spaces compared to other regions in Argentina. This area boasts a <strong>high density of cultural facilities</strong> such as theaters, bookstores, and libraries, particularly in urban centers like <strong>Buenos Aires City</strong> and <strong>Rosario</strong>. As the wealthiest area in the country, the Pampas region contributes the largest share of Argentina’s GDP. It is known for its strong agricultural production, industry, and urbanization, and houses the highest population density, which drives the demand for extensive cultural infrastructure.</p>
<p>In terms of <strong>functional diversity</strong>, libraries and cultural centers dominate in rural areas, providing essential cultural services to smaller communities. In contrast, urban centers host a broader variety of spaces, including theaters and cinemas, catering to diverse cultural interests and larger populations.</p>
<p>These patterns reflect the relationship between economic prosperity, urbanization, and the development of cultural infrastructure. The concentration of cultural spaces in affluent regions emphasizes the importance of cultural policy aimed at maintaining access while exploring ways to diversify cultural opportunities nationwide.</p>
</section>
<section id="educational-and-cultural-disparities-across-regions" class="level1">
<h1>Educational and Cultural Disparities Across Regions</h1>
<p>School attendance rates show significant variations across Argentina’s provinces. Wealthier regions like the Pampas, including Buenos Aires and Santa Fe, tend to exhibit higher attendance rates, bolstered by superior infrastructure, economic resources, and well-developed transportation networks. In contrast, provinces within the Northeast Argentina (NEA) and Northwest Argentina (NOA) regions, such as Formosa, Chaco, and Corrientes, face persistent challenges. These include limited access to resources, higher levels of poverty, and logistical barriers, which hinder consistent educational engagement.</p>
<section id="cultural-infrastructure-and-regional-context" class="level2">
<h2 class="anchored" data-anchor-id="cultural-infrastructure-and-regional-context">Cultural Infrastructure and Regional Context</h2>
<p>From the cultural spaces map, it is evident that while there is a presence of cultural spaces in regions like NEA and NOA, these spaces are not necessarily translating into higher educational outcomes. For instance, cultural spaces like libraries and cultural centers are present in these regions, but systemic challenges may limit their impact on education. This disparity highlights the need for deeper analysis to understand whether cultural access complements educational outcomes effectively.</p>
</section>
<section id="linking-cultural-access-to-education" class="level2">
<h2 class="anchored" data-anchor-id="linking-cultural-access-to-education">Linking Cultural Access to Education</h2>
<p>The interplay between cultural infrastructure and educational outcomes raises critical questions: - Does proximity to cultural spaces foster better attendance or engagement in schools? - Are cultural spaces effectively utilized, or are systemic barriers, such as poverty and transportation, overriding their potential benefits?</p>
<p>While the Pampas region benefits from both cultural richness and high school attendance rates, the NEA and NOA regions reveal a gap that warrants further investigation.</p>
<div id="a8c25ede" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img" width="570"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="moving-forward" class="level2">
<h2 class="anchored" data-anchor-id="moving-forward">Moving Forward</h2>
<p>These observations lead to two key next steps:</p>
<ol type="1">
<li><p><strong>Shiny App Analysis:</strong> The interactive Shiny app allows for an in-depth exploration of cultural and educational data at the provincial and departmental levels. This granular approach can help identify specific local dynamics that broader national trends might obscure.</p></li>
<li><p><strong>Correlation Analysis:</strong> By examining correlations between the number of cultural spaces and school attendance rates, we aim to uncover broader patterns. This can inform whether cultural investments are associated with measurable improvements in educational outcomes.</p></li>
</ol>
<p>This dual focus—detailed local exploration and broader statistical correlation—enables a nuanced understanding of the relationship between cultural infrastructure and educational access. It highlights the potential for targeted interventions to bridge the gaps evident in regions like NEA and NOA while reinforcing the positive outcomes observed in wealthier provinces.</p>
<div id="a3bcb8df" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display" data-execution_count="12">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="568899e3" class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">category</th>
<th data-quarto-table-cell-role="th">correlation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Popular Library</td>
<td>0.155920</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Theater</td>
<td>0.135509</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Bookstore</td>
<td>0.123487</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Cultural Center</td>
<td>0.118249</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Bicentennial House</td>
<td>0.113165</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Cinema</td>
<td>0.086131</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="correlation-between-cultural-spaces-and-attendance-rates" class="level2">
<h2 class="anchored" data-anchor-id="correlation-between-cultural-spaces-and-attendance-rates">Correlation Between Cultural Spaces and Attendance Rates</h2>
<section id="observations" class="level3">
<h3 class="anchored" data-anchor-id="observations">Observations</h3>
<ol type="1">
<li><p><strong>Low Correlation Between Number of Cultural Spaces and Attendance</strong><br>
The scatter plot reveals that the relationship between the number of cultural spaces and attendance rates is weak. Attendance rates remain relatively high across provinces, even where there are few cultural spaces.</p>
<ul>
<li><strong>Examples:</strong>
<ul>
<li>In <strong>Loreto, Santiago del Estero</strong>, a department with only one cultural space, attendance rates are consistent across all age groups.</li>
<li>In <strong>Santiago del Estero Province</strong>, the total number of cultural spaces increases to 67, but attendance rates still hover within a similar range.</li>
<li><strong>Buenos Aires Province</strong>, with its dense urban centers and the highest concentration of cultural spaces (over 1,500), does not exhibit proportionally higher attendance rates.</li>
</ul></li>
</ul></li>
<li><p><strong>Functional Diversity</strong><br>
Urban centers like Buenos Aires exhibit a more diverse set of cultural spaces, including theaters and cinemas, which may target broader demographics. Rural areas, such as Loreto, often host fewer but essential spaces like libraries or cultural centers.</p></li>
<li><p><strong>High Baseline Attendance Rates</strong><br>
School attendance rates across provinces tend to stay consistently high, with averages above 85%, regardless of cultural space density. This baseline reduces the impact that variations in cultural spaces might have on attendance rates, as shown above.</p></li>
</ol>
<div id="bc69ade0" class="cell" data-execution_count="15">
<div class="cell-output cell-output-display" data-execution_count="15">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="factors-influencing-weak-correlation" class="level3">
<h3 class="anchored" data-anchor-id="factors-influencing-weak-correlation">Factors Influencing Weak Correlation</h3>
<ul>
<li><p><strong>Quality Over Quantity</strong><br>
The presence of high-quality, accessible cultural spaces may drive attendance more effectively than the sheer number of spaces. Rural libraries and community centers, for example, may serve as focal points for educational engagement without requiring numerous facilities. For instance the popular library in Loreto may not have the same quality as one in Buenos Aires.</p></li>
<li><p><strong>Demographics and Infrastructure</strong><br>
Urban centers naturally have more cultural spaces due to higher population density and infrastructure. However, these areas also have more alternative educational and recreational options, which may dilute the influence of cultural spaces on school attendance.</p></li>
</ul>
</section>
<section id="visual-examples" class="level3">
<h3 class="anchored" data-anchor-id="visual-examples">Visual Examples</h3>
<p>Below are some illustrative examples highlighting these observations:</p>
<div id="ebde2abd" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-17-output-2.png" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Final%20Project_files/figure-html/cell-17-output-3.png" class="img-fluid figure-img" width="600"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="findings" class="level1">
<h1>Findings</h1>
<ul>
<li><strong>Wealthy Provinces Dominate</strong>: Buenos Aires, Córdoba, and Santa Fe account for the majority of cultural spaces, reflecting their economic and infrastructural advantages.</li>
<li><strong>Sparse Distribution in Rural Areas</strong>: Provinces in the NEA and NOA, such as Formosa and Chaco, show a severe lack of cultural resources, mirroring broader socio-economic inequalities.</li>
<li>The findings emphasize the importance of <strong>quality and accessibility</strong> of cultural spaces rather than merely increasing their number.</li>
<li>There is a need to explore the role of <strong>community engagement, program offerings, and location</strong> of cultural spaces to better understand their relationship with educational outcomes.</li>
</ul>
</section>
<section id="policy-implications" class="level1">
<h1>Policy Implications</h1>
<ul>
<li><strong>Mobile Cultural Units</strong>: Deploy mobile libraries and theaters to reach underserved communities.</li>
<li><strong>Community Engagement</strong>: Empower local stakeholders to manage and sustain cultural spaces.</li>
<li><strong>Integrated Programs</strong>: Combine cultural and educational initiatives to foster engagement and learning.</li>
<li><strong>Infrastructure Investment</strong>: Prioritize resource allocation to regions with the greatest need.</li>
<li>Insights from the examples guide targeted interventions at the provincial and departmental levels, as demonstrated in the <strong>Shiny App</strong>. It enables stakeholders to explore correlations at granular levels and design more effective cultural and educational policies.</li>
</ul>
</section>
<section id="future-directions" class="level1">
<h1>Future Directions</h1>
<ul>
<li><strong>Longitudinal Studies</strong>: Track changes over time to better understand causal relationships, as we understand that correlation does not imply causation, and additional data would be needed to establish causal links.</li>
<li><strong>Expanded Indicators</strong>: Incorporate metrics like income levels, transportation access, and digital connectivity.</li>
<li><strong>Policy Experimentation</strong>: Test interventions, such as subsidized cultural programs, to evaluate their impact on school attendance rates.</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>